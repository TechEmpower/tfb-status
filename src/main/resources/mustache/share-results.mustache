{{<layout}}

{{$styles}}
<link rel="stylesheet" href="/assets/css/share-results.css">
{{/styles}}

{{$scripts}}
<script type="text/javascript" src="/assets/js/share-results.js"></script>
{{/scripts}}

{{$body}}

<h1>Share results</h1>

<p class="share-results-info">
  Use this page to upload or paste results from a benchmarks run.
  We will host the results and generate a share URL, allowing you to visualize and share the results with others.
  You may either copy/paste the results.json file generated by the run, or upload the results.json file directly.
</p>

<hr/>

{{#success}}
  <h3>Success!</h3>
  <p>
    The raw results.json can be accessed at
    <a href="{{resultsUrl}}" target="_blank">
      {{resultsUrl}}
    </a>
  </p>
  <p>
    The results can be visualized at
    <a href="{{visualizeResultsUrl}}" target="_blank">
      {{visualizeResultsUrl}}
    </a>
  </p>
  <p>
    <strong>Important:</strong> Be sure to save these URLs as they cannot
    be retrieved once you leave this page!
  </p>
  <hr/>
{{/success}}

<form id="share-results-form" method="post" action="" enctype="multipart/form-data">
  <p>
    <label>
      <input type="radio" name="share-type" value="paste" {{shareTypeValues.paste}}/>
      Paste JSON
    </label>
    <label>
      <input type="radio" name="share-type" value="upload" {{shareTypeValues.upload}}/>
      Upload file
    </label>
  </p>
  <p class="share-type-section paste">
    <textarea name="paste-results-json"
              id="paste-results-json"
              rows="20"
              cols="100">{{pasteResultsJson}}</textarea>
  </p>
  <p class="share-type-section upload">
    <input type="file"
           name="upload-results-json"
           id="upload-results-json"/>
  </p>
  <p>
    <ul class="error-list">
      {{#errors}}
        <li>{{.}}</li>
      {{/errors}}
    </ul>
  </p>
  <p>
    <input type="submit"
           name="submit"
           id="submit"
           value="Submit"/>
  </p>
</form>

{{/body}}

{{/layout}}
